<!DOCTYPE html>
<html>

<head>
    <!--<script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>-->


    <script src="JS/aframe-master.js"></script>
    <script
        src="https://unpkg.com/aframe-environment-component@1.3.0/dist/aframe-environment-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="JS/highlight.js"></script>
    <script src="JS/changemodel.js"></script>
    <title>3D/2D作品紀錄</title>
    <script type="text/javascript">
        function setCookie(cname, cvalue, exhour) {
            var d = new Date();
            d.setTime(d.getTime() + (exhour * 60 * 60 * 1000));
            var expires = "expires=" + d.toGMTString();
            document.cookie = cname + "=" + cvalue + "; " + expires;
        } function getCookie(cname) {
            var name = cname + "=";
            var ca = document.cookie.split(';');
            for (var i = 0; i < ca.length; i++) {
                var c = ca[i].trim();
                if (c.indexOf(name) == 0)
                    return c.substring(name.length, c.length);
            }
            return "";
        }
        window.onload = function checkCookie() {
            var cookiename = getCookie("inlunajin_gallery");
            if (cookiename != "") {

            } else {
                cookiename = "come1hour";
                if (cookiename != "" && cookiename != null) {
                    const mobileDevice = ['Android', 'webOS', 'iPhone', 'iPad', 'iPod', 'BlackBerry', 'Windows Phone']
                    let isMobileDevice = mobileDevice.some(e => navigator.userAgent.match(e))
                    if (isMobileDevice) {
                        setTimeout(function () {
                            Swal.fire(
                                {
                                    icon: 'info',
                                    title: '歡迎來到美術館',
                                    html: '<b>本網頁包含大量模型<br>切換模型時讀取會花費較長時間<br>請耐心等待<br><br>如顯示錯誤請切換至良好網路環境並重新整理</b>',
                                    footer: '使用行動數據請注意流量'
                                }
                            )
                        }, 1500);
                    }
                    else {

                        setTimeout(function () {
                            Swal.fire(
                                {
                                    icon: 'info',
                                    title: '歡迎來到美術館',
                                    html: '<b>本網頁包含大量模型<br>切換模型時讀取會花費較長時間<br>請耐心等待<br><br>如顯示錯誤請切換至良好網路環境並重新整理</b>',
                                    footer: '使用行動數據請注意流量'
                                }
                            )
                        }, 500);

                    }
                    setCookie("inlunajin_gallery", cookiename, 1);
                }
            }
        }

    </script>

    <link href="popoutstyle.css" rel="stylesheet" type="text/css">
</head>

<body>
    <a-scene background="color: #FFFFFF" cursor="rayOrigin: mouse; fuse: false" raycaster="objects: .raycastable"
        info-message="htmlSrc: #messageText" vr-mode-ui="arEnabled: false">
        <a-gltf-model id="scenemodel" src="material/Gallery.glb" position="0 0 0" material="shader: flat">
        </a-gltf-model>
        <a-entity light="type: ambient; color: #BBB"></a-entity>
        <a-entity light="type: point; intensity: 1; distance: 10; decay: 5" position="-0.5 3 -2"></a-entity>
        <a-entity light="type: point; intensity: 1; distance: 10; decay: 5" position="0.5 3 -2"></a-entity>
        <a-entity light="type: point; intensity: 0.5; distance: 10; decay: 5" position="0 0.2 -1.5"></a-entity>
        <a-gltf-model id="modelloc" src="material/gallery/monkey.gltf" position="0 0.15 -3" scale="1.2 1.2 1.2"
            material="shader:flat;side:back"
            animation="property: rotation; to: 0 360 0; loop: true; dur: 30000;easing: linear" visible='false'>
        </a-gltf-model>
        <a-gltf-model id="imageloc" src="material/gallery/Startboard.glb" position="0 0.15 -3" rotation="0 -90 0"
            scale="1 1 1" material="shader:flat;side:back"></a-gltf-model>
        <a-assets>
            <img id="Exitimg" src="material/exitarrow.png" crossorigin="anonymous" />
            <a-mixin id="Exitframe" geometry="primitive: plane; width: 1; height: 1"
                material="transparent: true; shader: flat;opacity:0"
                animation__scale="property: scale; to: 1.2 1.2 1.2; dur: 200; startEvents: mouseenter"
                animation__scale_reverse="property: scale; to: 1 1 1; dur: 200; startEvents: mouseleave"></a-mixin>
            <a-mixin id="Exitposter" geometry="primitive: plane; width: 1; height: 1"
                material="color: white; shader: flat;transparent: true" material="shader: flat" position="0 0 0.005">
            </a-mixin>
            <a-mixin id="frame" geometry="primitive: plane; width: 4; height: 1" material="color: white; shader: flat">
            </a-mixin>
            <a-mixin id="poster" geometry="primitive: plane; width: 3.9; height: 0.9"
                material="color: white; shader: flat" material="shader: flat" position="0 0 0.005"></a-mixin>
            <img id="Description" src="material/tutorial.png" crossorigin="anonymous" />
            <a-mixin id="manual" geometry="primitive: plane; width: 0.77; height: 1.4"
                material="color: white; shader: flat" material="shader: flat" position="0 0 0"></a-mixin>
        </a-assets>

        <a-text mixin="text" position="0 1 -2" wrap-count="10"></a-text>
        <a-entity id="background" position="0 0 0" geometry="primitive: sphere; radius: 2.0"
            material="color: red; side: back; shader: flat" scale="0.001 0.001 0.001" visible="false"
            class="raycastable">
        </a-entity>

        <a-entity position="0 1.6 0" camera
            look-controls="magicWindowTrackingEnabled: false; touchEnabled: true; mouseEnabled: true">
            <a-entity id="fadeBackground" geometry="primitive: sphere; radius: 2.5"
                material="color: black; side: back; shader: flat; transparent: true; opacity: 0.6" visible="false">
            </a-entity>

        </a-entity>
        <a-entity id="ExitButton" position="0 1 2" rotation="0 180 0" mixin="Exitframe" class="raycastable menu-button">
            <a-entity material="src: #Exitimg" mixin="Exitposter"></a-entity>
        </a-entity>

        <!-- Hand controls -->
        <a-entity id="leftHand" laser-controls="hand: left" raycaster="objects: .raycastable"></a-entity>
        <a-entity id="rightHand" laser-controls="hand: right" raycaster="objects: .raycastable" line="color: #118A7E">
        </a-entity>
        <a-entity id="ui" position="1.315 1.925 -1.9">
            <!-- Poster menu -->

            <a-entity id="menu" rotation="0 -30 0" highlight>


                <a-entity id="m_ahri" position="0 0 0" mixin="frame" scale="0.1 0.1 0.1"
                    class="raycastable menu-button">
                    <a-entity material="src: #Aposter" mixin="poster"></a-entity>
                </a-entity>
                <a-entity id="m_cage" position="0 -0.1 0" mixin="frame" scale="0.1 0.1 0.1"
                    class="raycastable menu-button">
                    <a-entity material="src: #Aposter" mixin="poster"></a-entity>
                </a-entity>
                <a-entity id="m_fish" position="0 -0.2 0" mixin="frame" scale="0.1 0.1 0.1"
                    class="raycastable menu-button">
                    <a-entity material="src: #Aposter" mixin="poster"></a-entity>
                </a-entity>
                <a-entity id="m_how" position="0 -0.3 0" mixin="frame" scale="0.1 0.1 0.1"
                    class="raycastable menu-button">
                    <a-entity material="src: #Aposter" mixin="poster"></a-entity>
                </a-entity>
                <a-entity id="m_jeanne" position="0 -0.4 0" mixin="frame" scale="0.1 0.1 0.1"
                    class="raycastable menu-button">
                    <a-entity material="src: #Aposter" mixin="poster"></a-entity>
                </a-entity>
                <a-entity id="m_light" position="0 -0.5 0" mixin="frame" scale="0.1 0.1 0.1"
                    class="raycastable menu-button">
                    <a-entity material="src: #Aposter" mixin="poster"></a-entity>
                </a-entity>
                <a-entity id="m_lilith" position="0 -0.6 0" mixin="frame" scale="0.1 0.1 0.1"
                    class="raycastable menu-button">
                    <a-entity material="src: #Aposter" mixin="poster"></a-entity>
                </a-entity>
                <a-entity id="m_pokemon" position="0 -0.7 0" mixin="frame" scale="0.1 0.1 0.1"
                    class="raycastable menu-button">
                    <a-entity material="src: #Aposter" mixin="poster"></a-entity>
                </a-entity>
                <a-entity id="m_projector" position="0 -0.8 0" mixin="frame" scale="0.1 0.1 0.1"
                    class="raycastable menu-button">
                    <a-entity material="src: #Aposter" mixin="poster"></a-entity>
                </a-entity>
                <a-entity id="m_ROV" position="0 -0.9 0" mixin="frame" scale="0.1 0.1 0.1"
                    class="raycastable menu-button">
                    <a-entity material="src: #Aposter" mixin="poster"></a-entity>
                </a-entity>
                <a-entity id="m_searchlight" position="0 -1 0" mixin="frame" scale="0.1 0.1 0.1"
                    class="raycastable menu-button">
                    <a-entity material="src: #Aposter" mixin="poster"></a-entity>
                </a-entity>
                <a-entity id="m_tamamo" position="0 -1.1 0" mixin="frame" scale="0.1 0.1 0.1"
                    class="raycastable menu-button">
                    <a-entity material="src: #Aposter" mixin="poster"></a-entity>
                </a-entity>
                <a-entity id="m_windowcage" position="0.4 0 0" mixin="frame" scale="0.1 0.1 0.1"
                    class="raycastable menu-button">
                    <a-entity material="src: #Aposter" mixin="poster"></a-entity>
                </a-entity>
                <a-entity id="i_image" position="0.4 -0.1 0" mixin="frame" scale="0.1 0.1 0.1"
                    class="raycastable menu-button">
                    <a-entity material="src: #Aposter" mixin="poster"></a-entity>
                </a-entity>
                <a-entity id="i_goodmonkey" position="0 -1.2 0" mixin="frame" scale="0.1 0.1 0.1"
                    class="raycastable menu-button">
                    <a-entity material="src: #Aposter" mixin="poster"></a-entity>
                </a-entity>

            </a-entity>

            <a-entity id="tolink" position="0 0 0.5" change-model visible="false" scale="0.001 0.001 0.001">

            </a-entity>
        </a-entity>
        <a-entity id="tell" material="src: #Description" mixin="manual" position="-1.50 1.3 -1.78" rotation="0 30 0">
        </a-entity>
    </a-scene>
</body>

</html>